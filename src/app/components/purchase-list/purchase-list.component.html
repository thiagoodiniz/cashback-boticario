
<mat-card class="purchase-list-container">
    <mat-card-header>
        <mat-card-title>Compras Cadastradas</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <table #purchaseTable class="purchase-list-container__table" mat-table [dataSource]="purchaseList">
            <ng-container matColumnDef="code">
                <th mat-header-cell *matHeaderCellDef> Código Produto </th>
                <td mat-cell *matCellDef="let element"> {{element.code}} </td>
            </ng-container>
        
            <ng-container matColumnDef="value">
                <th mat-header-cell *matHeaderCellDef> Valor </th>
                <td mat-cell *matCellDef="let element"> {{element.value | currency: 'BRL': true }} </td>
            </ng-container>
        
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Data </th>
                <td mat-cell *matCellDef="let element"> {{getDateFormated(element.date)}} </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Ações </th>
                <td mat-cell *matCellDef="let element">
                    <ng-container *ngIf="canShowActions(element)">
                        <button matTooltip="Editar" (click)="goToEditPurchase(element)" class="actions__btn">
                            <mat-icon>edit</mat-icon> 
                        </button>
                        <button matTooltip="Remover" (click)="removePurchase(element.id)" class="actions__btn actions__btn--remove">
                            <mat-icon>close</mat-icon> 
                        </button>
                    </ng-container>
                    
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </mat-card-content>
</mat-card>